---
layout: post
title:  "Basic Pentesting"
date:   2020-11-9 16:28:15 +0700
---
![](https://i.imgur.com/p7DqU7M.png)
&nbsp;  


This time we're gonna solve the challenge named "Basic Pentesting" on tryhackme.
The description says that it is a linux machine and we're required to do some bruteforcing in order to get in.

Let's start our nmap scan to see all the running services that we can enumerate.

![](https://i.imgur.com/74KHn9m.png)
&nbsp;  

It has SSH, SMB, and Web Server running on the machine.
Let's start enumerating the web service by accessing it on our browser.

![](https://i.imgur.com/Gy9r46w.png)
&nbsp;  

It looks like the web is not running yet.

Just to be sure, we can do a directory busting, maybe we will find some interesting files or directories.

![](https://i.imgur.com/ds9LHRT.png)
&nbsp;  

Using Gobuster, we can see that it has a "/development" directory, let's take a look.

![](https://i.imgur.com/QTwQFKz.png)
&nbsp;  


Okay, we found 2 files in the directory. But unfortunately those are not really useful and can't really help us to get into the machine.

Let's enumerate the SMB service.

![](https://i.imgur.com/ZZNZzUN.png)
&nbsp;  

Listing all the shares, we can see that it has an "anonymous" folder that we can access.

![](https://i.imgur.com/GYUzT3Y.png)
&nbsp;  

There's a file named "staff.txt", let's grab it.

![](https://i.imgur.com/GKzLNGS.png)
&nbsp;  

Okay, from this file we can a little bit of information, not much, but it is something that we can work with.

Now we know the possible usernames, Jan and Kay. Let's use it and try to bruteforce their passwords.

Starting with Jan. We can use "hydra" for this, attacking the port 22 (ssh) and using the wordlist "rockyou.txt" for the password cracking.

![](https://i.imgur.com/Juovrex.png)
&nbsp;  

Looks like our attempt was successful. We got Jan's password.

Let's get into the machine using SSH.

From our quick enumeration, we can see that there are 2 user directories here, Jan and Kay.

![](https://i.imgur.com/iTru95Q.png)
&nbsp;  

In kay's directory we can find his ssh key laying around.

![](https://i.imgur.com/GIgVYED.png)
&nbsp;  

Let's grab that using SCP.

![](https://i.imgur.com/akT2FZw.png)
&nbsp;  


Now that we have the key, we can use JohnTheRipper to convert the ssh key to hash and then get the password.

![](https://i.imgur.com/padaiQI.png)
&nbsp; 

After that, we can just SSH in using Kay's credential through SSH.

![](https://i.imgur.com/8UyGoYN.png)
&nbsp;  

We can see there's a "pass.bak" lying around. catting that out reveals something that looks like Kay's user password for the machine.

We can use that to elevate our privilege into root.

![](https://i.imgur.com/Bx3DJbO.png)
&nbsp;  

And it was a success.
Not really realistic from the hacking prespective, but nonetheless still a fun one for a CTF.